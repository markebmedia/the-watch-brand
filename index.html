<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>THE WATCH BRAND — Luxury Watch Intelligence</title>
  <meta name="description" content="Discover the true market value of any luxury timepiece. Specs, secondary market pricing, and investment analysis — powered by AI." />

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,300;1,400&family=Josefin+Sans:wght@200;300;400;600&display=swap" rel="stylesheet" />

  <style>
    :root {
      --black:      #080808;
      --black-2:    #0E0E0E;
      --black-3:    #141414;
      --black-4:    #1C1C1C;
      --gold:       #C9A84C;
      --gold-light: #E8CC7A;
      --gold-dim:   #8A6F32;
      --white:      #F5F0E8;
      --white-dim:  #9A9488;
      --border:     rgba(201,168,76,0.15);
      --border-mid: rgba(201,168,76,0.3);

      --font-display: 'Cormorant Garamond', Georgia, serif;
      --font-ui:      'Josefin Sans', sans-serif;

      --transition: 0.4s cubic-bezier(0.25, 0, 0, 1);
    }

    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    html { scroll-behavior: smooth; }

    body {
      font-family: var(--font-ui);
      background: var(--black);
      color: var(--white);
      line-height: 1.6;
      overflow-x: hidden;
      cursor: default;
    }

    /* ── GRAIN OVERLAY ── */
    body::before {
      content: '';
      position: fixed;
      inset: 0;
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.035'/%3E%3C/svg%3E");
      pointer-events: none;
      z-index: 1000;
      opacity: 0.4;
    }

    a { text-decoration: none; color: inherit; }
    img { max-width: 100%; display: block; }

    /* ── NAV ── */
    nav {
      position: fixed;
      top: 0; left: 0; right: 0;
      z-index: 100;
      padding: 24px 48px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      transition: background var(--transition), padding var(--transition);
    }
    nav.scrolled {
      background: rgba(8,8,8,0.92);
      backdrop-filter: blur(20px);
      padding: 16px 48px;
      border-bottom: 1px solid var(--border);
    }
    .nav-logo {
      font-family: var(--font-ui);
      font-size: 0.72rem;
      font-weight: 600;
      letter-spacing: 0.25em;
      text-transform: uppercase;
      color: var(--gold);
    }
    .nav-links {
      display: flex;
      gap: 40px;
      list-style: none;
    }
    .nav-links a {
      font-size: 0.68rem;
      font-weight: 300;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: var(--white-dim);
      transition: color var(--transition);
    }
    .nav-links a:hover { color: var(--gold); }
    .nav-cta {
      font-size: 0.65rem;
      font-weight: 600;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: var(--black);
      background: var(--gold);
      padding: 10px 24px;
      transition: background var(--transition), color var(--transition);
    }
    .nav-cta:hover { background: var(--gold-light); }

    /* ── HERO ── */
    #hero {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 120px 48px 80px;
      position: relative;
      overflow: hidden;
    }

    /* Radial gold glow */
    #hero::before {
      content: '';
      position: absolute;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      width: 800px; height: 800px;
      background: radial-gradient(circle, rgba(201,168,76,0.06) 0%, transparent 65%);
      pointer-events: none;
    }

    /* Horizontal rule lines */
    .hero-rule {
      width: 1px;
      height: 60px;
      background: linear-gradient(to bottom, transparent, var(--gold));
      margin: 0 auto 32px;
      opacity: 0.6;
    }
    .hero-tag {
      font-size: 0.65rem;
      font-weight: 400;
      letter-spacing: 0.3em;
      text-transform: uppercase;
      color: var(--gold);
      margin-bottom: 32px;
    }
    .hero-title {
      font-family: var(--font-display);
      font-size: clamp(3.5rem, 9vw, 8rem);
      font-weight: 300;
      line-height: 0.95;
      letter-spacing: -0.02em;
      color: var(--white);
      margin-bottom: 12px;
    }
    .hero-title em {
      font-style: italic;
      color: var(--gold);
    }
    .hero-subtitle {
      font-family: var(--font-display);
      font-size: clamp(1rem, 2vw, 1.5rem);
      font-weight: 300;
      font-style: italic;
      color: var(--white-dim);
      margin-bottom: 60px;
      letter-spacing: 0.02em;
    }

    /* ── SEARCH BOX ── */
    .search-container {
      width: 100%;
      max-width: 720px;
      position: relative;
      margin-bottom: 24px;
    }
    .search-label {
      font-size: 0.62rem;
      font-weight: 400;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: var(--gold-dim);
      margin-bottom: 12px;
      text-align: left;
    }
    .search-input-wrap {
      display: flex;
      border: 1px solid var(--border-mid);
      background: var(--black-3);
      transition: border-color var(--transition), box-shadow var(--transition);
    }
    .search-input-wrap:focus-within {
      border-color: var(--gold);
      box-shadow: 0 0 0 1px var(--gold-dim), 0 8px 40px rgba(201,168,76,0.08);
    }
    .search-input {
      flex: 1;
      background: transparent;
      border: none;
      outline: none;
      padding: 20px 24px;
      font-family: var(--font-display);
      font-size: 1.1rem;
      font-weight: 300;
      color: var(--white);
      letter-spacing: 0.02em;
    }
    .search-input::placeholder { color: rgba(154,148,136,0.5); }
    .search-btn {
      background: var(--gold);
      border: none;
      padding: 0 32px;
      cursor: pointer;
      font-family: var(--font-ui);
      font-size: 0.62rem;
      font-weight: 600;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: var(--black);
      transition: background var(--transition);
      display: flex;
      align-items: center;
      gap: 10px;
      white-space: nowrap;
    }
    .search-btn:hover { background: var(--gold-light); }
    .search-btn:disabled { opacity: 0.5; cursor: not-allowed; }
    .search-examples {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      margin-top: 16px;
    }
    .search-example {
      font-size: 0.62rem;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: var(--white-dim);
      border: 1px solid var(--border);
      padding: 6px 14px;
      cursor: pointer;
      transition: all var(--transition);
    }
    .search-example:hover {
      border-color: var(--gold-dim);
      color: var(--gold);
    }

    /* ── DIVIDER ── */
    .divider {
      display: flex;
      align-items: center;
      gap: 20px;
      margin: 80px 0;
      width: 100%;
      max-width: 1200px;
      margin-left: auto;
      margin-right: auto;
    }
    .divider-line { flex: 1; height: 1px; background: var(--border); }
    .divider-text {
      font-size: 0.6rem;
      letter-spacing: 0.3em;
      text-transform: uppercase;
      color: var(--gold-dim);
    }

    /* ── RESULT AREA ── */
    #result-area {
      width: 100%;
      max-width: 1000px;
      margin: 0 auto;
      padding: 0 48px;
    }

    /* Loading state */
    .loading-indicator {
      display: none;
      text-align: center;
      padding: 60px 0;
    }
    .loading-indicator.active { display: block; }
    .loading-spinner {
      width: 40px;
      height: 40px;
      border: 1px solid var(--border);
      border-top-color: var(--gold);
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin: 0 auto 20px;
    }
    @keyframes spin { to { transform: rotate(360deg); } }
    .loading-text {
      font-size: 0.65rem;
      letter-spacing: 0.25em;
      text-transform: uppercase;
      color: var(--gold-dim);
    }

    /* Result card */
    .result-card {
      display: none;
      background: var(--black-2);
      border: 1px solid var(--border-mid);
      animation: fadeUp 0.6s ease forwards;
    }
    .result-card.active { display: block; }
    @keyframes fadeUp {
      from { opacity: 0; transform: translateY(20px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    .result-header {
      display: grid;
      grid-template-columns: 1fr auto;
      align-items: start;
      padding: 36px 40px 28px;
      border-bottom: 1px solid var(--border);
      gap: 24px;
    }
    .result-brand {
      font-size: 0.6rem;
      font-weight: 600;
      letter-spacing: 0.3em;
      text-transform: uppercase;
      color: var(--gold);
      margin-bottom: 8px;
    }
    .result-name {
      font-family: var(--font-display);
      font-size: clamp(1.6rem, 3vw, 2.4rem);
      font-weight: 300;
      color: var(--white);
      line-height: 1.1;
      margin-bottom: 6px;
    }
    .result-ref {
      font-size: 0.65rem;
      letter-spacing: 0.15em;
      color: var(--white-dim);
    }
    .result-price-block { text-align: right; }
    .result-price-label {
      font-size: 0.58rem;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: var(--white-dim);
      margin-bottom: 6px;
    }
    .result-price {
      font-family: var(--font-display);
      font-size: clamp(1.8rem, 3vw, 2.6rem);
      font-weight: 400;
      color: var(--gold);
      line-height: 1;
    }
    .result-price-range {
      font-size: 0.65rem;
      color: var(--white-dim);
      margin-top: 4px;
      letter-spacing: 0.05em;
    }

    /* Data grid */
    .result-grid {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      border-bottom: 1px solid var(--border);
    }
    .result-data-section {
      padding: 28px 40px;
      border-right: 1px solid var(--border);
    }
    .result-data-section:last-child { border-right: none; }
    .section-label {
      font-size: 0.58rem;
      font-weight: 600;
      letter-spacing: 0.25em;
      text-transform: uppercase;
      color: var(--gold-dim);
      margin-bottom: 20px;
      padding-bottom: 12px;
      border-bottom: 1px solid var(--border);
    }
    .data-row {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      margin-bottom: 12px;
      gap: 12px;
    }
    .data-key {
      font-size: 0.62rem;
      letter-spacing: 0.1em;
      color: var(--white-dim);
      white-space: nowrap;
    }
    .data-val {
      font-family: var(--font-display);
      font-size: 0.95rem;
      color: var(--white);
      text-align: right;
    }

    /* Investment section */
    .result-investment {
      padding: 28px 40px;
    }
    .investment-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }
    .investment-verdict {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 6px 16px;
      font-size: 0.6rem;
      font-weight: 600;
      letter-spacing: 0.15em;
      text-transform: uppercase;
    }
    .verdict-strong { background: rgba(201,168,76,0.12); color: var(--gold); border: 1px solid var(--gold-dim); }
    .verdict-moderate { background: rgba(255,200,80,0.08); color: #E0B860; border: 1px solid rgba(224,184,96,0.4); }
    .verdict-caution { background: rgba(180,100,100,0.1); color: #C08080; border: 1px solid rgba(192,128,128,0.4); }

    .investment-text {
      font-family: var(--font-display);
      font-size: 1rem;
      font-weight: 300;
      color: var(--white-dim);
      line-height: 1.8;
      font-style: italic;
    }

    /* Market bars */
    .market-bars {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
      margin-top: 20px;
    }
    .bar-label {
      display: flex;
      justify-content: space-between;
      margin-bottom: 6px;
    }
    .bar-name { font-size: 0.6rem; letter-spacing: 0.1em; color: var(--white-dim); text-transform: uppercase; }
    .bar-val { font-size: 0.6rem; color: var(--gold); letter-spacing: 0.05em; }
    .bar-track {
      height: 2px;
      background: var(--black-4);
      position: relative;
      overflow: hidden;
    }
    .bar-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--gold-dim), var(--gold));
      transition: width 1s cubic-bezier(0.25, 0, 0, 1);
    }

    /* ── BRANDS SECTION ── */
    #brands {
      padding: 100px 48px;
      max-width: 1200px;
      margin: 0 auto;
    }
    .brands-header {
      text-align: center;
      margin-bottom: 60px;
    }
    .section-eyebrow {
      font-size: 0.6rem;
      font-weight: 400;
      letter-spacing: 0.3em;
      text-transform: uppercase;
      color: var(--gold);
      margin-bottom: 16px;
    }
    .section-title {
      font-family: var(--font-display);
      font-size: clamp(2rem, 4vw, 3.5rem);
      font-weight: 300;
      color: var(--white);
      line-height: 1.1;
    }
    .section-title em { font-style: italic; color: var(--gold); }

    .brands-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 1px;
      background: var(--border);
    }
    .brand-cell {
      background: var(--black);
      padding: 40px 24px;
      text-align: center;
      cursor: pointer;
      transition: background var(--transition);
      position: relative;
      overflow: hidden;
    }
    .brand-cell::before {
      content: '';
      position: absolute;
      bottom: 0; left: 0; right: 0;
      height: 2px;
      background: linear-gradient(90deg, transparent, var(--gold), transparent);
      transform: scaleX(0);
      transition: transform var(--transition);
    }
    .brand-cell:hover { background: var(--black-3); }
    .brand-cell:hover::before { transform: scaleX(1); }
    .brand-name {
      font-family: var(--font-display);
      font-size: 1.3rem;
      font-weight: 300;
      color: var(--white);
      margin-bottom: 6px;
      transition: color var(--transition);
    }
    .brand-cell:hover .brand-name { color: var(--gold); }
    .brand-count {
      font-size: 0.6rem;
      letter-spacing: 0.15em;
      color: var(--white-dim);
      text-transform: uppercase;
    }

    /* ── HOW IT WORKS ── */
    #how {
      padding: 100px 48px;
      background: var(--black-2);
      border-top: 1px solid var(--border);
      border-bottom: 1px solid var(--border);
    }
    .how-inner {
      max-width: 1200px;
      margin: 0 auto;
    }
    .how-header {
      text-align: center;
      margin-bottom: 64px;
    }
    .how-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 0;
    }
    .how-item {
      padding: 40px 48px;
      border-right: 1px solid var(--border);
      position: relative;
    }
    .how-item:last-child { border-right: none; }
    .how-num {
      font-family: var(--font-display);
      font-size: 4rem;
      font-weight: 300;
      color: var(--border-mid);
      line-height: 1;
      margin-bottom: 20px;
    }
    .how-title {
      font-family: var(--font-display);
      font-size: 1.3rem;
      font-weight: 400;
      color: var(--white);
      margin-bottom: 12px;
    }
    .how-text {
      font-size: 0.8rem;
      font-weight: 300;
      color: var(--white-dim);
      line-height: 1.8;
      letter-spacing: 0.03em;
    }

    /* ── STATS ── */
    #stats {
      padding: 80px 48px;
      max-width: 1200px;
      margin: 0 auto;
    }
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 0;
      border: 1px solid var(--border);
    }
    .stat-item {
      padding: 40px 32px;
      border-right: 1px solid var(--border);
      text-align: center;
    }
    .stat-item:last-child { border-right: none; }
    .stat-num {
      font-family: var(--font-display);
      font-size: clamp(2rem, 3vw, 3rem);
      font-weight: 300;
      color: var(--gold);
      margin-bottom: 8px;
    }
    .stat-label {
      font-size: 0.62rem;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      color: var(--white-dim);
    }

    /* ── FOOTER ── */
    footer {
      padding: 48px;
      border-top: 1px solid var(--border);
      display: flex;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 20px;
    }
    .footer-logo {
      font-size: 0.65rem;
      font-weight: 600;
      letter-spacing: 0.3em;
      text-transform: uppercase;
      color: var(--gold);
    }
    .footer-note {
      font-size: 0.6rem;
      letter-spacing: 0.1em;
      color: var(--white-dim);
      max-width: 500px;
      text-align: center;
      line-height: 1.7;
    }
    .footer-credit {
      font-size: 0.6rem;
      letter-spacing: 0.1em;
      color: var(--white-dim);
    }
    .footer-credit a { color: var(--gold-dim); transition: color var(--transition); }
    .footer-credit a:hover { color: var(--gold); }

    /* ── RESPONSIVE ── */
    @media (max-width: 960px) {
      nav { padding: 20px 24px; }
      nav.scrolled { padding: 14px 24px; }
      .nav-links { display: none; }
      #hero { padding: 100px 24px 60px; }
      #result-area { padding: 0 24px; }
      .result-grid { grid-template-columns: 1fr; }
      .result-data-section { border-right: none; border-bottom: 1px solid var(--border); }
      .result-header { grid-template-columns: 1fr; }
      .result-price-block { text-align: left; }
      .brands-grid { grid-template-columns: repeat(2, 1fr); }
      .how-grid { grid-template-columns: 1fr; }
      .how-item { border-right: none; border-bottom: 1px solid var(--border); }
      .stats-grid { grid-template-columns: repeat(2, 1fr); }
      .stat-item:nth-child(2) { border-right: none; }
      #brands, #how, #stats { padding: 60px 24px; }
      footer { padding: 32px 24px; flex-direction: column; text-align: center; }
      .market-bars { grid-template-columns: 1fr; }
    }
    @media (max-width: 480px) {
      .brands-grid { grid-template-columns: repeat(2, 1fr); }
      .stats-grid { grid-template-columns: 1fr 1fr; }
      .search-btn span { display: none; }
    }
  </style>
</head>
<body>

  <!-- NAV -->
  <nav id="nav">
    <div class="nav-logo">The Watch Brand</div>
    <ul class="nav-links">
      <li><a href="#brands">Brands</a></li>
      <li><a href="#how">How It Works</a></li>
      <li><a href="#hero">Lookup</a></li>
    </ul>
    <a href="#hero" class="nav-cta">Start Lookup</a>
  </nav>

  <!-- HERO + SEARCH -->
  <section id="hero">
    <div class="hero-rule"></div>
    <div class="hero-tag">Luxury Watch Intelligence</div>
    <h1 class="hero-title">Know the<br><em>True Value</em></h1>
    <p class="hero-subtitle">Secondary market pricing, full specifications & investment analysis for any luxury timepiece</p>

    <div class="search-container">
      <div class="search-label">Enter brand, model, or reference number</div>
      <div class="search-input-wrap">
        <input
          type="text"
          class="search-input"
          id="watchInput"
          placeholder="e.g. Rolex Submariner Date 126610LN"
          autocomplete="off"
          spellcheck="false"
        />
        <button class="search-btn" id="searchBtn" onclick="lookupWatch()">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>
          <span>Analyse Watch</span>
        </button>
      </div>
      <div class="search-examples">
        <span class="search-example" onclick="fillSearch('Rolex Daytona 126500LN')">Rolex Daytona 126500LN</span>
        <span class="search-example" onclick="fillSearch('Patek Philippe Nautilus 5711/1A-010')">Patek Nautilus 5711</span>
        <span class="search-example" onclick="fillSearch('AP Royal Oak 15500ST')">AP Royal Oak 15500ST</span>
        <span class="search-example" onclick="fillSearch('Omega Speedmaster Professional 310.30.42.50.01.002')">Omega Speedmaster</span>
      </div>
    </div>
  </section>

  <!-- RESULT AREA -->
  <div id="result-area">
    <div class="loading-indicator" id="loadingIndicator">
      <div class="loading-spinner"></div>
      <div class="loading-text">Analysing timepiece data</div>
    </div>

    <div class="result-card" id="resultCard">
      <div class="result-header">
        <div>
          <div class="result-brand" id="res-brand">—</div>
          <div class="result-name" id="res-name">—</div>
          <div class="result-ref" id="res-ref">—</div>
        </div>
        <div class="result-price-block">
          <div class="result-price-label">Secondary Market Average</div>
          <div class="result-price" id="res-price">—</div>
          <div class="result-price-range" id="res-range">—</div>
          <div id="live-price-status" style="font-size:0.6rem;letter-spacing:0.1em;margin-top:8px;transition:color 0.4s;"></div>
        </div>
      </div>

      <div class="result-grid">
        <div class="result-data-section">
          <div class="section-label">Specifications</div>
          <div class="data-row"><span class="data-key">Case Diameter</span><span class="data-val" id="res-case">—</span></div>
          <div class="data-row"><span class="data-key">Case Material</span><span class="data-val" id="res-material">—</span></div>
          <div class="data-row"><span class="data-key">Movement</span><span class="data-val" id="res-movement">—</span></div>
          <div class="data-row"><span class="data-key">Power Reserve</span><span class="data-val" id="res-power">—</span></div>
          <div class="data-row"><span class="data-key">Water Resistance</span><span class="data-val" id="res-water">—</span></div>
          <div class="data-row"><span class="data-key">Year Introduced</span><span class="data-val" id="res-year">—</span></div>
        </div>

        <div class="result-data-section">
          <div class="section-label">Market Pricing</div>
          <div class="data-row"><span class="data-key">Retail Price (MSRP)</span><span class="data-val" id="res-msrp">—</span></div>
          <div class="data-row"><span class="data-key">Secondary Market Avg</span><span class="data-val" id="res-secondary">—</span></div>
          <div class="data-row"><span class="data-key">Premium / Discount</span><span class="data-val" id="res-premium">—</span></div>
          <div class="data-row"><span class="data-key">12-Month Trend</span><span class="data-val" id="res-trend">—</span></div>
          <div class="data-row"><span class="data-key">Liquidity</span><span class="data-val" id="res-liquidity">—</span></div>
          <div class="data-row"><span class="data-key">Data Updated</span><span class="data-val" id="res-updated">—</span></div>
        </div>

        <div class="result-data-section">
          <div class="section-label">Value by Condition</div>
          <div class="data-row"><span class="data-key">Mint (Box &amp; Papers)</span><span class="data-val" id="res-mint">—</span></div>
          <div class="data-row"><span class="data-key">Excellent</span><span class="data-val" id="res-excellent">—</span></div>
          <div class="data-row"><span class="data-key">Very Good</span><span class="data-val" id="res-verygood">—</span></div>
          <div class="data-row"><span class="data-key">Good</span><span class="data-val" id="res-good">—</span></div>
          <div class="data-row"><span class="data-key">Fair</span><span class="data-val" id="res-fair">—</span></div>
        </div>
      </div>

      <div class="result-investment">
        <div class="investment-header">
          <div class="section-label" style="margin-bottom:0; border:none; padding:0">Investment Analysis</div>
          <div class="investment-verdict" id="res-verdict-badge">—</div>
        </div>
        <p class="investment-text" id="res-analysis">—</p>
        <div class="market-bars" id="res-bars"></div>
      </div>
    </div>
  </div>

  <!-- DIVIDER -->
  <div style="padding: 0 48px;">
    <div class="divider">
      <div class="divider-line"></div>
      <div class="divider-text">Featured Brands</div>
      <div class="divider-line"></div>
    </div>
  </div>

  <!-- BRANDS -->
  <section id="brands">
    <div class="brands-header">
      <div class="section-eyebrow">Coverage</div>
      <h2 class="section-title">Every <em>Major House</em></h2>
    </div>
    <div class="brands-grid">
      <div class="brand-cell" onclick="fillSearch('Rolex Submariner Date 126610LN')">
        <div class="brand-name">Rolex</div>
        <div class="brand-count">300+ References</div>
      </div>
      <div class="brand-cell" onclick="fillSearch('Patek Philippe Nautilus 5711/1A-010')">
        <div class="brand-name">Patek Philippe</div>
        <div class="brand-count">200+ References</div>
      </div>
      <div class="brand-cell" onclick="fillSearch('Audemars Piguet Royal Oak 15500ST.OO.1220ST.01')">
        <div class="brand-name">Audemars Piguet</div>
        <div class="brand-count">180+ References</div>
      </div>
      <div class="brand-cell" onclick="fillSearch('Vacheron Constantin Overseas 4500V/110A-B483')">
        <div class="brand-name">Vacheron Constantin</div>
        <div class="brand-count">150+ References</div>
      </div>
      <div class="brand-cell" onclick="fillSearch('A. Lange & Söhne Lange 1 191.032')">
        <div class="brand-name">A. Lange &amp; Söhne</div>
        <div class="brand-count">90+ References</div>
      </div>
      <div class="brand-cell" onclick="fillSearch('Richard Mille RM 011-03')">
        <div class="brand-name">Richard Mille</div>
        <div class="brand-count">120+ References</div>
      </div>
      <div class="brand-cell" onclick="fillSearch('Omega Speedmaster Professional Moonwatch')">
        <div class="brand-name">Omega</div>
        <div class="brand-count">250+ References</div>
      </div>
      <div class="brand-cell" onclick="fillSearch('Cartier Santos Medium WSSA0029')">
        <div class="brand-name">Cartier</div>
        <div class="brand-count">200+ References</div>
      </div>
    </div>
  </section>

  <!-- HOW IT WORKS -->
  <section id="how">
    <div class="how-inner">
      <div class="how-header">
        <div class="section-eyebrow">The Process</div>
        <h2 class="section-title">How the <em>Lookup Works</em></h2>
      </div>
      <div class="how-grid">
        <div class="how-item">
          <div class="how-num">01</div>
          <div class="how-title">Enter Any Watch</div>
          <p class="how-text">Type the brand and model, or paste a reference number. Our AI understands natural language — no specific formatting required.</p>
        </div>
        <div class="how-item">
          <div class="how-num">02</div>
          <div class="how-title">AI Analysis</div>
          <p class="how-text">Our system identifies the timepiece and cross-references specifications, retail pricing, and secondary market data from across the luxury watch ecosystem.</p>
        </div>
        <div class="how-item">
          <div class="how-num">03</div>
          <div class="how-title">Full Intelligence Report</div>
          <p class="how-text">Receive complete specs, market pricing by condition grade, 12-month price trends, and an investment verdict — all in seconds.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- STATS -->
  <section id="stats">
    <div class="stats-grid">
      <div class="stat-item">
        <div class="stat-num">27,000+</div>
        <div class="stat-label">Watch References</div>
      </div>
      <div class="stat-item">
        <div class="stat-num">40+</div>
        <div class="stat-label">Luxury Brands</div>
      </div>
      <div class="stat-item">
        <div class="stat-num">Daily</div>
        <div class="stat-label">Data Refresh</div>
      </div>
      <div class="stat-item">
        <div class="stat-num">Free</div>
        <div class="stat-label">No Account Needed</div>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer>
    <div class="footer-logo">The Watch Brand</div>
    <div class="footer-note">Market data is AI-generated based on publicly available secondary market sources. Figures represent averaged estimates and should not be taken as financial advice. Always verify before transacting.</div>
    <div class="footer-credit">Built by <a href="https://markebmedia.co.uk" target="_blank" rel="noopener">Markeb Media</a></div>
  </footer>

  <script>
    // ── NAV SCROLL ──
    const nav = document.getElementById('nav');
    window.addEventListener('scroll', () => {
      nav.classList.toggle('scrolled', window.scrollY > 40);
    }, { passive: true });

    // ── FILL SEARCH ──
    function fillSearch(query) {
      document.getElementById('watchInput').value = query;
      document.getElementById('hero').scrollIntoView({ behavior: 'smooth' });
      setTimeout(() => lookupWatch(), 400);
    }

    // ── ENTER KEY ──
    document.getElementById('watchInput').addEventListener('keydown', (e) => {
      if (e.key === 'Enter') lookupWatch();
    });

    // ── MAIN LOOKUP ──
    async function lookupWatch() {
      const query = document.getElementById('watchInput').value.trim();
      if (!query) return;

      const loading = document.getElementById('loadingIndicator');
      const card = document.getElementById('resultCard');

      loading.classList.add('active');
      card.classList.remove('active');

      document.getElementById('result-area').scrollIntoView({ behavior: 'smooth', block: 'start' });

      try {
        // STEP 1: Get instant AI result from Claude
        const response = await fetch('/.netlify/functions/watch-lookup', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ query })
        });

        const watch = await response.json();

        if (!response.ok) {
          throw new Error(watch.message || 'Lookup failed');
        }

        // Show result immediately
        renderResult(watch);
        loading.classList.remove('active');

        // STEP 2: Start Apify run in background for live prices
        startLivePriceFetch(query);

      } catch (err) {
        console.error(err);
        renderError();
        loading.classList.remove('active');
      }
    }

    // ── LIVE PRICE FETCH (async background) ──
    async function startLivePriceFetch(query) {
      try {
        // Show "fetching live prices" indicator
        showLivePriceStatus('fetching');

        const startResponse = await fetch('/.netlify/functions/watch-prices', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ query })
        });

        if (!startResponse.ok) return;

        const { runId, datasetId } = await startResponse.json();
        if (!runId || !datasetId) return;

        // Poll every 5 seconds until done
        let attempts = 0;
        const maxAttempts = 15;

        const pollInterval = setInterval(async () => {
          attempts++;
          if (attempts > maxAttempts) {
            clearInterval(pollInterval);
            showLivePriceStatus('timeout');
            return;
          }

          try {
            const pollResponse = await fetch(
              `/.netlify/functions/watch-poll?runId=${runId}&datasetId=${datasetId}`
            );
            const result = await pollResponse.json();

            if (result.status === 'RUNNING') return; // keep polling

            clearInterval(pollInterval);

            if (result.status === 'SUCCEEDED' && result.prices) {
              updateLivePrices(result.prices, result.listings, result.sample);
            } else {
              showLivePriceStatus('unavailable');
            }
          } catch (e) {
            clearInterval(pollInterval);
            showLivePriceStatus('unavailable');
          }
        }, 5000);

      } catch (err) {
        console.error('[live prices]', err);
        showLivePriceStatus('unavailable');
      }
    }

    function showLivePriceStatus(state) {
      const el = document.getElementById('live-price-status');
      if (!el) return;
      const messages = {
        fetching: '⟳ Fetching live Chrono24 prices...',
        timeout:  '— Live prices timed out',
        unavailable: '— Live prices unavailable'
      };
      el.textContent = messages[state] || '';
      el.style.color = state === 'fetching' ? 'var(--gold-dim)' : 'var(--white-dim)';
    }

    function updateLivePrices(prices, count, sample) {
      // Update main price display
      if (prices.average) {
        document.getElementById('res-price').textContent = prices.average;
        document.getElementById('res-range').textContent = `Range: ${prices.min} – ${prices.max}`;
        document.getElementById('res-secondary').textContent = prices.average;
      }

      // Update status
      const el = document.getElementById('live-price-status');
      if (el) {
        el.textContent = `✓ Live prices updated — ${count} Chrono24 listings`;
        el.style.color = 'var(--gold)';
      }

      // Update listings count
      const lc = document.getElementById('res-listings-count');
      if (lc) lc.textContent = count;
    }

    function renderResult(w) {
      document.getElementById('res-brand').textContent = w.brand || '—';
      document.getElementById('res-name').textContent = w.model || '—';
      document.getElementById('res-ref').textContent = w.reference ? `Ref. ${w.reference}` : '—';
      document.getElementById('res-price').textContent = w.marketPrice || '—';
      document.getElementById('res-range').textContent = w.priceRange ? `Range: ${w.priceRange}` : '—';

      // Specs
      const s = w.specs || {};
      document.getElementById('res-case').textContent = s.caseDiameter || '—';
      document.getElementById('res-material').textContent = s.caseMaterial || '—';
      document.getElementById('res-movement').textContent = s.movement || '—';
      document.getElementById('res-power').textContent = s.powerReserve || '—';
      document.getElementById('res-water').textContent = s.waterResistance || '—';
      document.getElementById('res-year').textContent = s.yearIntroduced || '—';

      // Pricing
      const p = w.pricing || {};
      document.getElementById('res-msrp').textContent = p.msrp || '—';
      document.getElementById('res-secondary').textContent = p.secondaryAvg || '—';
      document.getElementById('res-premium').textContent = p.premiumDiscount || '—';
      document.getElementById('res-trend').textContent = p.trend12m || '—';
      document.getElementById('res-liquidity').textContent = p.liquidity || '—';
      document.getElementById('res-updated').textContent = p.updated || '—';

      // Condition
      const c = w.byCondition || {};
      document.getElementById('res-mint').textContent = c.mint || '—';
      document.getElementById('res-excellent').textContent = c.excellent || '—';
      document.getElementById('res-verygood').textContent = c.veryGood || '—';
      document.getElementById('res-good').textContent = c.good || '—';
      document.getElementById('res-fair').textContent = c.fair || '—';

      // Investment
      const inv = w.investment || {};
      document.getElementById('res-analysis').textContent = inv.analysis || '—';

      const badge = document.getElementById('res-verdict-badge');
      const v = (inv.verdict || '').toLowerCase();
      badge.textContent = inv.verdict || '—';
      badge.className = 'investment-verdict';
      if (v.includes('strong') || v.includes('buy')) badge.classList.add('verdict-strong');
      else if (v.includes('hold') || v.includes('moderate')) badge.classList.add('verdict-moderate');
      else badge.classList.add('verdict-caution');

      // Bars
      const barsEl = document.getElementById('res-bars');
      barsEl.innerHTML = '';
      if (inv.bars && inv.bars.length) {
        inv.bars.forEach(bar => {
          const item = document.createElement('div');
          item.className = 'market-bar-item';
          item.innerHTML = `
            <div class="bar-label">
              <span class="bar-name">${bar.label}</span>
              <span class="bar-val">${bar.value}/100</span>
            </div>
            <div class="bar-track">
              <div class="bar-fill" style="width: 0%"></div>
            </div>`;
          barsEl.appendChild(item);
          // Animate after render
          setTimeout(() => {
            item.querySelector('.bar-fill').style.width = `${bar.value}%`;
          }, 100);
        });
      }

      document.getElementById('resultCard').classList.add('active');
    }

    function renderError() {
      document.getElementById('res-brand').textContent = 'Error';
      document.getElementById('res-name').textContent = 'Could not retrieve data';
      document.getElementById('res-ref').textContent = 'Please try again';
      document.getElementById('res-price').textContent = '—';
      document.getElementById('res-range').textContent = '—';
      document.getElementById('res-analysis').textContent = 'There was an issue fetching the data. Please check your connection and try again.';
      document.getElementById('resultCard').classList.add('active');
    }
  </script>

</body>
</html>